{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-03-14 16:29:22.248738",
 "custom_format": 1,
 "default_print_language": "en-US",
 "disabled": 1,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\n<html>\n<head>\n    <style>\n        @page:first {\n        margin-top: 65mm; /* Large margin for the first page */\n        margin-bottom: 20mm;\n    }\n\n    @page {\n        margin-top: 20mm;\n        margin-bottom: 20mm;\n        margin-left: 15mm;\n        margin-right: 15mm; /* Ensure there's enough space on the right */\n    }\n\n\n        body {\n            font-size: 12px;\n        }\n        table {\n            width: 99.50%;\n            border-collapse: collapse;\n            font-size: 12px;\n        }\n        th, td {\n            border: 1px solid black;\n            padding: 8px;\n            text-align: left;\n            box-sizing: border-box;\n        }\n        .header-table {\n            width: 99.50%;\n            border: none;\n        }\n        .header-table td {\n            /*border: 1px solid #000;*/\n            padding: 5px;\n        }\n        .invoice-title {\n            font-size: 18px;\n            font-weight: bold;\n            text-align: center;\n            border-bottom: 2px solid black; \n            padding-bottom: 2px;\n        }\n        .bold-text {\n            font-weight: bold;\n        }\n        .text-right {\n            text-align: right;\n        }\n        .text-center {\n            text-align: center;\n        }\n        .text-left {\n            text-align: left;\n        }\n        .terms {\n            font-size: 10px;\n        }\n\n        /* Ensures table headers repeat on new pages */\n        thead { display: table-header-group; }\n        tfoot { display: table-row-group; }\n        tr { page-break-inside: avoid; }\n    </style>\n</head>\n<body>\n\n    <!-- Header Section -->\n    <table class=\"header-table\">\n    <tr>\n        <td style=\"width: 35%;\">\n            <strong>Bill To:</strong><br>\n            {{ doc.customer }}<br>\n            {{ doc.address_display }}<br>\n            GSTIN: \n            {% set customer = frappe.get_doc(\"Customer\", doc.customer) %}\n            {{ customer.gstin if customer.gstin else 'N/A' }}\n        </td>\n        <td style=\"width: 35%;\">\n            <strong>Ship To:</strong><br>\n            {{ doc.customer }}<br>\n            {{ doc.shipping_address }}<br>\n            GSTIN: \n            {% set customer = frappe.get_doc(\"Customer\", doc.customer) %}\n            {{ customer.gstin if customer.gstin else 'N/A' }}\n        </td>\n        <td class=\"text-left\" style=\"width: 30%;\">\n            <div class=\"invoice-title\">TAX INVOICE</div><br>\n            <strong>Invoice No:</strong> {{ doc.name }}<br>\n            <strong>Date:</strong> {{ doc.posting_date }}<br>\n            <strong>Vehicle No:</strong> {{ doc.vehicle_no }}<br>\n            <strong>Carrier Name:</strong> <br>\n            <strong>Freight Term:</strong> \n        </td>\n    </tr>\n</table>\n\n\n\n    <!-- Item Table -->\n    {% set ns = namespace(total_weight=0, total_value=0) %}\n    <table>\n        <thead>\n            <tr>\n                <th>S/N</th>\n                <th>HSN</th>\n                <th>Description of Goods</th>\n                <th>Rate</th>\n                <th>Qty</th>\n                <th>Unit</th>\n                <th>Disc(%)</th>\n                <th>Unit Price</th>\n                <th>Taxable Value</th>\n            </tr>\n        </thead>\n        <tbody>\n            {% for item in doc.items %}\n            <tr>\n                <td>{{ loop.index }}</td>\n                <td>{{ item.gst_hsn_code }}</td>\n                <td>{{ item.description }}</td>\n                <td class=\"text-right\">{{ item.custom_rate_per_kg }}</td>\n                <td class=\"text-right\">{{ \"%.3f\"|format(item.custom_weight_in_kg|float) }}</td>\n                <td>KGS</td>\n                <td class=\"text-right\">0.00</td>\n                <td class=\"text-right\">{{ item.custom_rate_per_kg }}</td>\n                <td class=\"text-right\">{{ item.amount }}</td>\n            </tr>\n\n            {% set ns.total_weight = ns.total_weight + (item.custom_weight_in_kg | float(0)) %}\n            {% set ns.total_value = ns.total_value + (item.amount | float(0)) %}\n            {% endfor %}\n\n            <tr>\n                <td colspan=\"4\">E&OE.</td>\n                <td class=\"text-right\">\n                    <strong>{{ ns.total_weight }}</strong>\n                </td>\n                <td>###</td>\n                <td colspan=\"2\" class=\"text-right bold-text\">Total Value:</td>\n                <td class=\"text-right\"><strong>{{ '%.2f'|format(ns.total_value) }}</strong></td>\n\n            </tr>\n        </tbody>\n    </table>\n\n    <!-- Summary -->\n<table style=\"border: 1px solid black; border-collapse: collapse;\">\n    <tr>\n        <!-- Left Section (Invoice Details) -->\n        <td style=\"width: 50%; vertical-align: top; padding: 10px; border-right: 1px solid black;\">\n            {% if doc.irn %}\n                {% set e_invoice_log = frappe.db.get_value(\"e-Invoice Log\", doc.irn, (\"invoice_data\", \"signed_qr_code\"), as_dict=True) %}\n                \n                {% if e_invoice_log %}\n                    {% set invoice_data = json.loads(e_invoice_log.invoice_data) %}\n                    {% set date_format = frappe.db.get_single_value(\"System Settings\", 'date_format').replace(\"mm\", \"MM\") %}\n        \n                    <div style=\"padding-top: 5px; display: flex; align-items: center; justify-content: flex-start;\">\n                        <!-- Left Section: QR Code -->\n                        <div style=\"width: 120px; height: 120px; overflow: hidden; display: flex; align-items: center; justify-content: center;\">\n                            {{ web_block('e-Invoice QR', values={'e_invoice_qr_text': e_invoice_log.signed_qr_code }) }}\n                        </div>\n                    \n                        <!-- Right Section: IRN Details -->\n                        <div style=\"max-width: 150px; word-wrap: break-word; overflow-wrap: break-word; font-size: 12px; margin-left: 15px;\">\n                            <p class=\"field-property\"><b>IRN:</b> <span style=\"word-break: break-word;\">{{ doc.irn }}</span></p>\n                            <p class=\"field-property\"><b>Ack No.:</b> {{ invoice_data.get(\"AckNo\") if doc.irn and invoice_data.get(\"AckNo\") else '' }}</p>\n                            <p class=\"field-property\"><b>Ack Date:</b> {{ frappe.utils.format_datetime(invoice_data.get(\"AckDt\"), date_format) if doc.irn and invoice_data.get(\"AckDt\") else '' }}</p>\n                        </div>\n                    </div>\n        \n                {% endif %}\n            {% endif %}\n        </td>\n\n\n        <!-- Right Section (Tax Details) -->\n        <td style=\"width: 50%; vertical-align: top; padding: 10px;\">\n            {% set total_igst = doc.items | sum(attribute='igst_amount') %}\n            {% set total_sgst = doc.items | sum(attribute='sgst_amount') %}\n            {% set total_cgst = doc.items | sum(attribute='cgst_amount') %}\n\n            {% set igst_rate = none %}\n            {% set sgst_rate = none %}\n            {% set cgst_rate = none %}\n\n            {% for item in doc.items %}\n                {% if igst_rate is none and item.igst_rate and item.igst_rate > 0 %} \n                    {% set igst_rate = item.igst_rate %} \n                {% endif %}\n                {% if sgst_rate is none and item.sgst_rate and item.sgst_rate > 0 %} \n                    {% set sgst_rate = item.sgst_rate %} \n                {% endif %}\n                {% if cgst_rate is none and item.cgst_rate and item.cgst_rate > 0 %} \n                    {% set cgst_rate = item.cgst_rate %} \n                {% endif %}\n            {% endfor %}\n\n            <!-- Debugging Output -->\n            {# Uncomment this to check values while debugging #}\n            {# {% for item in doc.items %} \n                {{ item.item_code }} - IGST Rate: {{ item.igst_rate }}, SGST Rate: {{ item.sgst_rate }}, CGST Rate: {{ item.cgst_rate }} <br> \n            {% endfor %} #}\n            <table style=\"width: 100%; border-collapse: collapse;\">\n                <tr>\n                    <td class=\"text-right bold-text\" style=\"border-bottom: 1px solid black; padding: 5px;\">Amount Before Tax:</td>\n                    <td class=\"text-right\" style=\"border-bottom: 1px solid black; padding: 5px;\">{{ doc.total }}</td>\n                </tr>\n                {% if total_igst > 0 %}\n                <tr>\n                    <td class=\"text-right bold-text\" style=\"border-bottom: 1px solid black; padding: 5px;\">\n                        IGST @ 18%:\n                    </td>\n                    <td class=\"text-right\" style=\"border-bottom: 1px solid black; padding: 5px;\">{{ '%.2f'|format(total_igst) }}</td>\n                </tr>\n                {% endif %}\n                {% if total_sgst > 0 %}\n                <tr>\n                    <td class=\"text-right bold-text\" style=\"border-bottom: 1px solid black; padding: 5px;\">\n                        SGST @ 9%:\n                    </td>\n                    <td class=\"text-right\" style=\"border-bottom: 1px solid black; padding: 5px;\">{{ '%.2f'|format(total_sgst) }}</td>\n                </tr>\n                {% endif %}\n                {% if total_cgst > 0 %}\n                <tr>\n                    <td class=\"text-right bold-text\" style=\"border-bottom: 1px solid black; padding: 5px;\">\n                        CGST @ 9%:\n                    </td>\n                    <td class=\"text-right\" style=\"border-bottom: 1px solid black; padding: 5px;\">{{ '%.2f'|format(total_cgst) }}</td>\n                </tr>\n                {% endif %}\n                <tr>\n                    {% for tax in doc.taxes %}\n                        {% if \"TCS\" in tax.description %}\n                            <td class=\"text-right bold-text\" style=\"border-bottom: 1px solid black; padding: 5px;\">\n                                TCS @ 0.100:\n                            </td>\n                            <td class=\"text-right\" style=\"border-bottom: 1px solid black; padding: 5px;\">{{ \"{:,.2f}\".format(tax.tax_amount) }}</td>\n                        {% endif %}\n                    {% endfor %}\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n\n\n    <!-- Bank Details -->\n    <table>\n        <tr>\n            <td>\n                <strong>Bank Details:</strong><br>\n                Bank Name: ICICI Bank<br>\n                Branch: Trichy Road, Coimbatore<br>\n                Account Number: 001605021125<br>\n                IFSC Code: ICIC0000016\n            </td>\n            <td class=\"text-center bold-text\" style=\"padding: 5px; font-size: 15px;\">Grand Total: {{ doc.grand_total }}</td> \n        </tr>\n    </table>\n    \n    <!-- Amount in Words -->\n    <table>\n        <tr>\n            <td><strong>IN WORDS: </strong>{{ doc.in_words }}</td>\n        </tr>\n    </table>\n\n    <!-- Terms and Conditions -->\n    <table>\n        <tr>\n        <td style=\"width: 70%; vertical-align: top;\">\n            <h4>Terms & Conditions:</h4>\n            <ol>\n                <li>NO CLAIMS ARE ENTERTAINED UNLESS BROUGHT TO OUR NOTICE WITHIN TWO DAYS ON RECEIPT OF GOODS.</li>\n                <li>GOODS ONCE SOLD WILL NOT BE TAKEN BACK.</li>\n                <li>INTEREST @ 24% WILL BE CHARGED ON OVERDUE PAYMENT.</li>\n                <li>WE ARE NOT RESPONSIBLE FOR BREAKAGE & DAMAGE IN TRANSIT.</li>\n                <li>TRANSIT INSURANCE IF ANY IS TO BE TAKEN BY THE BUYER.</li>\n                <li>ANY DISPUTES ARISING ARE SUBJECT TO COIMBATORE JURISDICTION.</li>\n            </ol>\n        </td>\n        <td style=\"width: 30%; text-align: center;\">\n            <p><strong>For SONALI WIRES LLP</strong></p><br><br><br><br><br><br><br><br>\n            <p><strong>Authorized Signatory</strong></p>\n        </td>\n        </tr>\n    </table>\n\n</body>\n</html>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-04-04 12:53:39.137750",
 "modified_by": "Administrator",
 "module": "Sonali",
 "name": "SWW Sale Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}